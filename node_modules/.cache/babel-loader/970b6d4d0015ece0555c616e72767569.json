{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = virtualize;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactSwipeableViewsCore = require(\"react-swipeable-views-core\");\n\nfunction virtualize(MyComponent) {\n  var Virtualize = /*#__PURE__*/function (_PureComponent) {\n    (0, _inherits2.default)(Virtualize, _PureComponent);\n\n    function Virtualize(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, Virtualize);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Virtualize).call(this, props));\n      _this.timer = null;\n      _this.state = {};\n\n      _this.handleChangeIndex = function (indexContainer, indexLatest, meta) {\n        var _this$props = _this.props,\n            slideCount = _this$props.slideCount,\n            onChangeIndex = _this$props.onChangeIndex;\n        var indexDiff = indexContainer - indexLatest;\n        var index = _this.state.index + indexDiff;\n\n        if (slideCount) {\n          index = (0, _reactSwipeableViewsCore.mod)(index, slideCount);\n        } // Is uncontrolled\n\n\n        if (_this.props.index === undefined) {\n          _this.setIndex(index, indexContainer, indexDiff);\n        }\n\n        if (onChangeIndex) {\n          onChangeIndex(index, _this.state.index, meta);\n        }\n      };\n\n      _this.handleTransitionEnd = function () {\n        // Delay the update of the window to fix an issue with react-motion.\n        _this.timer = setTimeout(function () {\n          _this.setWindow();\n        }, 0);\n\n        if (_this.props.onTransitionEnd) {\n          _this.props.onTransitionEnd();\n        }\n      };\n\n      _this.state.index = props.index || 0;\n      return _this;\n    }\n    /**\n     *\n     *           index          indexStop\n     *             |              |\n     * indexStart  |       indexContainer\n     *   |         |         |    |\n     * ------------|-------------------------->\n     *  -2    -1   0    1    2    3    4    5\n     */\n\n\n    (0, _createClass2.default)(Virtualize, [{\n      key: \"UNSAFE_componentWillMount\",\n      // eslint-disable-next-line camelcase,react/sort-comp\n      value: function UNSAFE_componentWillMount() {\n        this.setWindow(this.state.index);\n      } // eslint-disable-next-line camelcase,react/sort-comp\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var index = nextProps.index;\n\n        if (typeof index === 'number' && index !== this.props.index) {\n          var indexDiff = index - this.props.index;\n          this.setIndex(index, this.state.indexContainer + indexDiff, indexDiff);\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        clearInterval(this.timer);\n      }\n    }, {\n      key: \"setIndex\",\n      value: function setIndex(index, indexContainer, indexDiff) {\n        var nextState = {\n          index: index,\n          indexContainer: indexContainer,\n          indexStart: this.state.indexStart,\n          indexStop: this.state.indexStop\n        }; // We are going forward, let's render one more slide ahead.\n\n        if (indexDiff > 0 && (!this.props.slideCount || nextState.indexStop < this.props.slideCount - 1)) {\n          nextState.indexStop += 1;\n        } // Extend the bounds if needed.\n\n\n        if (index > nextState.indexStop) {\n          nextState.indexStop = index;\n        }\n\n        var beforeAhead = nextState.indexStart - index; // Extend the bounds if needed.\n\n        if (beforeAhead > 0) {\n          nextState.indexContainer += beforeAhead;\n          nextState.indexStart -= beforeAhead;\n        }\n\n        this.setState(nextState);\n      }\n    }, {\n      key: \"setWindow\",\n      value: function setWindow() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.index;\n        var slideCount = this.props.slideCount;\n        var beforeAhead = this.props.overscanSlideBefore;\n        var afterAhead = this.props.overscanSlideAfter;\n\n        if (slideCount) {\n          if (beforeAhead > index) {\n            beforeAhead = index;\n          }\n\n          if (afterAhead + index > slideCount - 1) {\n            afterAhead = slideCount - index - 1;\n          }\n        }\n\n        this.setState({\n          indexContainer: beforeAhead,\n          indexStart: index - beforeAhead,\n          indexStop: index + afterAhead\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n            children = _this$props2.children,\n            indexProp = _this$props2.index,\n            onChangeIndex = _this$props2.onChangeIndex,\n            onTransitionEnd = _this$props2.onTransitionEnd,\n            overscanSlideAfter = _this$props2.overscanSlideAfter,\n            overscanSlideBefore = _this$props2.overscanSlideBefore,\n            slideCount = _this$props2.slideCount,\n            slideRenderer = _this$props2.slideRenderer,\n            other = (0, _objectWithoutProperties2.default)(_this$props2, [\"children\", \"index\", \"onChangeIndex\", \"onTransitionEnd\", \"overscanSlideAfter\", \"overscanSlideBefore\", \"slideCount\", \"slideRenderer\"]);\n        var _this$state = this.state,\n            indexContainer = _this$state.indexContainer,\n            indexStart = _this$state.indexStart,\n            indexStop = _this$state.indexStop;\n        var slides = [];\n\n        for (var slideIndex = indexStart; slideIndex <= indexStop; slideIndex += 1) {\n          slides.push(slideRenderer({\n            index: slideIndex,\n            key: slideIndex\n          }));\n        }\n\n        return _react.default.createElement(MyComponent, (0, _extends2.default)({\n          index: indexContainer,\n          onChangeIndex: this.handleChangeIndex,\n          onTransitionEnd: this.handleTransitionEnd\n        }, other), slides);\n      }\n    }]);\n    return Virtualize;\n  }(_react.PureComponent);\n\n  Virtualize.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    /**\n     * @ignore\n     */\n    children: function children(props, propName) {\n      if (props[propName] !== undefined) {\n        return new Error(\"The children property isn't supported.\");\n      }\n\n      return null;\n    },\n\n    /**\n     * @ignore\n     */\n    index: _propTypes.default.number,\n\n    /**\n     * @ignore\n     */\n    onChangeIndex: _propTypes.default.func,\n\n    /**\n     * @ignore\n     */\n    onTransitionEnd: _propTypes.default.func,\n\n    /**\n     * Number of slide to render after the visible slide.\n     */\n    overscanSlideAfter: _propTypes.default.number,\n\n    /**\n     * Number of slide to render before the visible slide.\n     */\n    overscanSlideBefore: _propTypes.default.number,\n\n    /**\n     * When set, it's adding a limit to the number of slide: [0, slideCount].\n     */\n    slideCount: _propTypes.default.number,\n\n    /**\n     * Responsible for rendering a slide given an index.\n     * ({ index: number }): node.\n     */\n    slideRenderer: _propTypes.default.func.isRequired\n  } : {};\n  Virtualize.defaultProps = {\n    overscanSlideAfter: 2,\n    // Render one more slide for going backward as it's more difficult to\n    // keep the window up to date.\n    overscanSlideBefore: 3\n  };\n  return Virtualize;\n}","map":{"version":3,"sources":["/Users/yuga/node_modules/react-swipeable-views-utils/lib/virtualize.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","virtualize","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_react","_propTypes","_reactSwipeableViewsCore","MyComponent","Virtualize","_PureComponent","props","_this","call","timer","state","handleChangeIndex","indexContainer","indexLatest","meta","_this$props","slideCount","onChangeIndex","indexDiff","index","mod","undefined","setIndex","handleTransitionEnd","setTimeout","setWindow","onTransitionEnd","key","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","nextProps","componentWillUnmount","clearInterval","nextState","indexStart","indexStop","beforeAhead","setState","arguments","length","overscanSlideBefore","afterAhead","overscanSlideAfter","render","_this$props2","children","indexProp","slideRenderer","other","_this$state","slides","slideIndex","push","createElement","PureComponent","propTypes","process","env","NODE_ENV","propName","Error","number","func","isRequired","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = virtualize;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactSwipeableViewsCore = require(\"react-swipeable-views-core\");\n\nfunction virtualize(MyComponent) {\n  var Virtualize =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    (0, _inherits2.default)(Virtualize, _PureComponent);\n\n    function Virtualize(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, Virtualize);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Virtualize).call(this, props));\n      _this.timer = null;\n      _this.state = {};\n\n      _this.handleChangeIndex = function (indexContainer, indexLatest, meta) {\n        var _this$props = _this.props,\n            slideCount = _this$props.slideCount,\n            onChangeIndex = _this$props.onChangeIndex;\n        var indexDiff = indexContainer - indexLatest;\n        var index = _this.state.index + indexDiff;\n\n        if (slideCount) {\n          index = (0, _reactSwipeableViewsCore.mod)(index, slideCount);\n        } // Is uncontrolled\n\n\n        if (_this.props.index === undefined) {\n          _this.setIndex(index, indexContainer, indexDiff);\n        }\n\n        if (onChangeIndex) {\n          onChangeIndex(index, _this.state.index, meta);\n        }\n      };\n\n      _this.handleTransitionEnd = function () {\n        // Delay the update of the window to fix an issue with react-motion.\n        _this.timer = setTimeout(function () {\n          _this.setWindow();\n        }, 0);\n\n        if (_this.props.onTransitionEnd) {\n          _this.props.onTransitionEnd();\n        }\n      };\n\n      _this.state.index = props.index || 0;\n      return _this;\n    }\n    /**\n     *\n     *           index          indexStop\n     *             |              |\n     * indexStart  |       indexContainer\n     *   |         |         |    |\n     * ------------|-------------------------->\n     *  -2    -1   0    1    2    3    4    5\n     */\n\n\n    (0, _createClass2.default)(Virtualize, [{\n      key: \"UNSAFE_componentWillMount\",\n      // eslint-disable-next-line camelcase,react/sort-comp\n      value: function UNSAFE_componentWillMount() {\n        this.setWindow(this.state.index);\n      } // eslint-disable-next-line camelcase,react/sort-comp\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var index = nextProps.index;\n\n        if (typeof index === 'number' && index !== this.props.index) {\n          var indexDiff = index - this.props.index;\n          this.setIndex(index, this.state.indexContainer + indexDiff, indexDiff);\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        clearInterval(this.timer);\n      }\n    }, {\n      key: \"setIndex\",\n      value: function setIndex(index, indexContainer, indexDiff) {\n        var nextState = {\n          index: index,\n          indexContainer: indexContainer,\n          indexStart: this.state.indexStart,\n          indexStop: this.state.indexStop\n        }; // We are going forward, let's render one more slide ahead.\n\n        if (indexDiff > 0 && (!this.props.slideCount || nextState.indexStop < this.props.slideCount - 1)) {\n          nextState.indexStop += 1;\n        } // Extend the bounds if needed.\n\n\n        if (index > nextState.indexStop) {\n          nextState.indexStop = index;\n        }\n\n        var beforeAhead = nextState.indexStart - index; // Extend the bounds if needed.\n\n        if (beforeAhead > 0) {\n          nextState.indexContainer += beforeAhead;\n          nextState.indexStart -= beforeAhead;\n        }\n\n        this.setState(nextState);\n      }\n    }, {\n      key: \"setWindow\",\n      value: function setWindow() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.index;\n        var slideCount = this.props.slideCount;\n        var beforeAhead = this.props.overscanSlideBefore;\n        var afterAhead = this.props.overscanSlideAfter;\n\n        if (slideCount) {\n          if (beforeAhead > index) {\n            beforeAhead = index;\n          }\n\n          if (afterAhead + index > slideCount - 1) {\n            afterAhead = slideCount - index - 1;\n          }\n        }\n\n        this.setState({\n          indexContainer: beforeAhead,\n          indexStart: index - beforeAhead,\n          indexStop: index + afterAhead\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n            children = _this$props2.children,\n            indexProp = _this$props2.index,\n            onChangeIndex = _this$props2.onChangeIndex,\n            onTransitionEnd = _this$props2.onTransitionEnd,\n            overscanSlideAfter = _this$props2.overscanSlideAfter,\n            overscanSlideBefore = _this$props2.overscanSlideBefore,\n            slideCount = _this$props2.slideCount,\n            slideRenderer = _this$props2.slideRenderer,\n            other = (0, _objectWithoutProperties2.default)(_this$props2, [\"children\", \"index\", \"onChangeIndex\", \"onTransitionEnd\", \"overscanSlideAfter\", \"overscanSlideBefore\", \"slideCount\", \"slideRenderer\"]);\n        var _this$state = this.state,\n            indexContainer = _this$state.indexContainer,\n            indexStart = _this$state.indexStart,\n            indexStop = _this$state.indexStop;\n        var slides = [];\n\n        for (var slideIndex = indexStart; slideIndex <= indexStop; slideIndex += 1) {\n          slides.push(slideRenderer({\n            index: slideIndex,\n            key: slideIndex\n          }));\n        }\n\n        return _react.default.createElement(MyComponent, (0, _extends2.default)({\n          index: indexContainer,\n          onChangeIndex: this.handleChangeIndex,\n          onTransitionEnd: this.handleTransitionEnd\n        }, other), slides);\n      }\n    }]);\n    return Virtualize;\n  }(_react.PureComponent);\n\n  Virtualize.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    /**\n     * @ignore\n     */\n    children: function children(props, propName) {\n      if (props[propName] !== undefined) {\n        return new Error(\"The children property isn't supported.\");\n      }\n\n      return null;\n    },\n\n    /**\n     * @ignore\n     */\n    index: _propTypes.default.number,\n\n    /**\n     * @ignore\n     */\n    onChangeIndex: _propTypes.default.func,\n\n    /**\n     * @ignore\n     */\n    onTransitionEnd: _propTypes.default.func,\n\n    /**\n     * Number of slide to render after the visible slide.\n     */\n    overscanSlideAfter: _propTypes.default.number,\n\n    /**\n     * Number of slide to render before the visible slide.\n     */\n    overscanSlideBefore: _propTypes.default.number,\n\n    /**\n     * When set, it's adding a limit to the number of slide: [0, slideCount].\n     */\n    slideCount: _propTypes.default.number,\n\n    /**\n     * Responsible for rendering a slide given an index.\n     * ({ index: number }): node.\n     */\n    slideRenderer: _propTypes.default.func.isRequired\n  } : {};\n  Virtualize.defaultProps = {\n    overscanSlideAfter: 2,\n    // Render one more slide for going backward as it's more difficult to\n    // keep the window up to date.\n    overscanSlideBefore: 3\n  };\n  return Virtualize;\n}"]},"metadata":{},"sourceType":"script"}