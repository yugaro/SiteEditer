{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = autoPlay;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _shallowEqual = require(\"shallow-equal\");\n\nvar _reactEventListener = _interopRequireDefault(require(\"react-event-listener\"));\n\nvar _reactSwipeableViewsCore = require(\"react-swipeable-views-core\");\n\nfunction autoPlay(MyComponent) {\n  var AutoPlay = /*#__PURE__*/function (_React$Component) {\n    (0, _inherits2.default)(AutoPlay, _React$Component);\n\n    function AutoPlay(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AutoPlay);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(AutoPlay).call(this, props));\n      _this.timer = null;\n      _this.state = {};\n\n      _this.handleInterval = function () {\n        var _this$props = _this.props,\n            children = _this$props.children,\n            direction = _this$props.direction,\n            onChangeIndex = _this$props.onChangeIndex,\n            slideCount = _this$props.slideCount;\n        var indexLatest = _this.state.index;\n        var indexNew = indexLatest;\n\n        if (direction === 'incremental') {\n          indexNew += 1;\n        } else {\n          indexNew -= 1;\n        }\n\n        if (slideCount || children) {\n          indexNew = (0, _reactSwipeableViewsCore.mod)(indexNew, slideCount || _react.default.Children.count(children));\n        } // Is uncontrolled\n\n\n        if (_this.props.index === undefined) {\n          _this.setState({\n            index: indexNew\n          });\n        }\n\n        if (onChangeIndex) {\n          onChangeIndex(indexNew, indexLatest);\n        }\n      };\n\n      _this.handleChangeIndex = function (index, indexLatest, meta) {\n        // Is uncontrolled\n        if (_this.props.index === undefined) {\n          _this.setState({\n            index: index\n          });\n        }\n\n        if (_this.props.onChangeIndex) {\n          _this.props.onChangeIndex(index, indexLatest, meta);\n        }\n      };\n\n      _this.handleSwitching = function (index, type) {\n        if (_this.timer) {\n          clearInterval(_this.timer);\n          _this.timer = null;\n        } else if (type === 'end') {\n          _this.startInterval();\n        }\n\n        if (_this.props.onSwitching) {\n          _this.props.onSwitching(index, type);\n        }\n      };\n\n      _this.handleVisibilityChange = function (e) {\n        if (e.target.hidden) {\n          clearInterval(_this.timer);\n        } else {\n          _this.startInterval();\n        }\n      };\n\n      _this.state.index = props.index || 0;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AutoPlay, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.startInterval();\n      } // eslint-disable-next-line camelcase,react/sort-comp\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var index = nextProps.index;\n\n        if (typeof index === 'number' && index !== this.props.index) {\n          this.setState({\n            index: index\n          });\n        }\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var shouldResetInterval = !(0, _shallowEqual.shallowEqualObjects)({\n          index: prevProps.index,\n          interval: prevProps.interval,\n          autoplay: prevProps.autoplay\n        }, {\n          index: this.props.index,\n          interval: this.props.interval,\n          autoplay: this.props.autoplay\n        });\n\n        if (shouldResetInterval) {\n          this.startInterval();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        clearInterval(this.timer);\n      }\n    }, {\n      key: \"startInterval\",\n      value: function startInterval() {\n        var _this$props2 = this.props,\n            autoplay = _this$props2.autoplay,\n            interval = _this$props2.interval;\n        clearInterval(this.timer);\n\n        if (autoplay) {\n          this.timer = setInterval(this.handleInterval, interval);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props3 = this.props,\n            autoplay = _this$props3.autoplay,\n            direction = _this$props3.direction,\n            indexProp = _this$props3.index,\n            interval = _this$props3.interval,\n            onChangeIndex = _this$props3.onChangeIndex,\n            other = (0, _objectWithoutProperties2.default)(_this$props3, [\"autoplay\", \"direction\", \"index\", \"interval\", \"onChangeIndex\"]);\n        var index = this.state.index;\n\n        if (!autoplay) {\n          return _react.default.createElement(MyComponent, (0, _extends2.default)({\n            index: index,\n            onChangeIndex: onChangeIndex\n          }, other));\n        }\n\n        return _react.default.createElement(_reactEventListener.default, {\n          target: \"document\",\n          onVisibilityChange: this.handleVisibilityChange\n        }, _react.default.createElement(MyComponent, (0, _extends2.default)({\n          index: index,\n          onChangeIndex: this.handleChangeIndex,\n          onSwitching: this.handleSwitching\n        }, other)));\n      }\n    }]);\n    return AutoPlay;\n  }(_react.default.Component);\n\n  AutoPlay.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    /**\n     * If `false`, the auto play behavior is disabled.\n     */\n    autoplay: _propTypes.default.bool,\n\n    /**\n     * @ignore\n     */\n    children: _propTypes.default.node,\n\n    /**\n     * This is the auto play direction.\n     */\n    direction: _propTypes.default.oneOf(['incremental', 'decremental']),\n\n    /**\n     * @ignore\n     */\n    index: _propTypes.default.number,\n\n    /**\n     * Delay between auto play transitions (in ms).\n     */\n    interval: _propTypes.default.number,\n\n    /**\n     * @ignore\n     */\n    onChangeIndex: _propTypes.default.func,\n\n    /**\n     * @ignore\n     */\n    onSwitching: _propTypes.default.func,\n\n    /**\n     * @ignore\n     */\n    slideCount: _propTypes.default.number\n  } : {};\n  AutoPlay.defaultProps = {\n    autoplay: true,\n    direction: 'incremental',\n    interval: 3000\n  };\n  return AutoPlay;\n}","map":{"version":3,"sources":["/Users/yuga/node_modules/react-swipeable-views-utils/lib/autoPlay.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","autoPlay","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_react","_propTypes","_shallowEqual","_reactEventListener","_reactSwipeableViewsCore","MyComponent","AutoPlay","_React$Component","props","_this","call","timer","state","handleInterval","_this$props","children","direction","onChangeIndex","slideCount","indexLatest","index","indexNew","mod","Children","count","undefined","setState","handleChangeIndex","meta","handleSwitching","type","clearInterval","startInterval","onSwitching","handleVisibilityChange","e","target","hidden","key","componentDidMount","UNSAFE_componentWillReceiveProps","nextProps","componentDidUpdate","prevProps","shouldResetInterval","shallowEqualObjects","interval","autoplay","componentWillUnmount","_this$props2","setInterval","render","_this$props3","indexProp","other","createElement","onVisibilityChange","Component","propTypes","process","env","NODE_ENV","bool","node","oneOf","number","func","defaultProps"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,QAAlB;;AAEA,IAAIC,SAAS,GAAGR,sBAAsB,CAACC,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,IAAIQ,yBAAyB,GAAGT,sBAAsB,CAACC,OAAO,CAAC,gDAAD,CAAR,CAAtD;;AAEA,IAAIS,gBAAgB,GAAGV,sBAAsB,CAACC,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIU,aAAa,GAAGX,sBAAsB,CAACC,OAAO,CAAC,oCAAD,CAAR,CAA1C;;AAEA,IAAIW,2BAA2B,GAAGZ,sBAAsB,CAACC,OAAO,CAAC,kDAAD,CAAR,CAAxD;;AAEA,IAAIY,gBAAgB,GAAGb,sBAAsB,CAACC,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIa,UAAU,GAAGd,sBAAsB,CAACC,OAAO,CAAC,iCAAD,CAAR,CAAvC;;AAEA,IAAIc,MAAM,GAAGf,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIe,UAAU,GAAGhB,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAIgB,aAAa,GAAGhB,OAAO,CAAC,eAAD,CAA3B;;AAEA,IAAIiB,mBAAmB,GAAGlB,sBAAsB,CAACC,OAAO,CAAC,sBAAD,CAAR,CAAhD;;AAEA,IAAIkB,wBAAwB,GAAGlB,OAAO,CAAC,4BAAD,CAAtC;;AAEA,SAASM,QAAT,CAAkBa,WAAlB,EAA+B;AAC7B,MAAIC,QAAQ,GACZ,aACA,UAAUC,gBAAV,EAA4B;AAC1B,KAAC,GAAGR,UAAU,CAACR,OAAf,EAAwBe,QAAxB,EAAkCC,gBAAlC;;AAEA,aAASD,QAAT,CAAkBE,KAAlB,EAAyB;AACvB,UAAIC,KAAJ;;AAEA,OAAC,GAAGd,gBAAgB,CAACJ,OAArB,EAA8B,IAA9B,EAAoCe,QAApC;AACAG,MAAAA,KAAK,GAAG,CAAC,GAAGZ,2BAA2B,CAACN,OAAhC,EAAyC,IAAzC,EAA+C,CAAC,GAAGO,gBAAgB,CAACP,OAArB,EAA8Be,QAA9B,EAAwCI,IAAxC,CAA6C,IAA7C,EAAmDF,KAAnD,CAA/C,CAAR;AACAC,MAAAA,KAAK,CAACE,KAAN,GAAc,IAAd;AACAF,MAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;;AAEAH,MAAAA,KAAK,CAACI,cAAN,GAAuB,YAAY;AACjC,YAAIC,WAAW,GAAGL,KAAK,CAACD,KAAxB;AAAA,YACIO,QAAQ,GAAGD,WAAW,CAACC,QAD3B;AAAA,YAEIC,SAAS,GAAGF,WAAW,CAACE,SAF5B;AAAA,YAGIC,aAAa,GAAGH,WAAW,CAACG,aAHhC;AAAA,YAIIC,UAAU,GAAGJ,WAAW,CAACI,UAJ7B;AAKA,YAAIC,WAAW,GAAGV,KAAK,CAACG,KAAN,CAAYQ,KAA9B;AACA,YAAIC,QAAQ,GAAGF,WAAf;;AAEA,YAAIH,SAAS,KAAK,aAAlB,EAAiC;AAC/BK,UAAAA,QAAQ,IAAI,CAAZ;AACD,SAFD,MAEO;AACLA,UAAAA,QAAQ,IAAI,CAAZ;AACD;;AAED,YAAIH,UAAU,IAAIH,QAAlB,EAA4B;AAC1BM,UAAAA,QAAQ,GAAG,CAAC,GAAGjB,wBAAwB,CAACkB,GAA7B,EAAkCD,QAAlC,EAA4CH,UAAU,IAAIlB,MAAM,CAACT,OAAP,CAAegC,QAAf,CAAwBC,KAAxB,CAA8BT,QAA9B,CAA1D,CAAX;AACD,SAjBgC,CAiB/B;;;AAGF,YAAIN,KAAK,CAACD,KAAN,CAAYY,KAAZ,KAAsBK,SAA1B,EAAqC;AACnChB,UAAAA,KAAK,CAACiB,QAAN,CAAe;AACbN,YAAAA,KAAK,EAAEC;AADM,WAAf;AAGD;;AAED,YAAIJ,aAAJ,EAAmB;AACjBA,UAAAA,aAAa,CAACI,QAAD,EAAWF,WAAX,CAAb;AACD;AACF,OA7BD;;AA+BAV,MAAAA,KAAK,CAACkB,iBAAN,GAA0B,UAAUP,KAAV,EAAiBD,WAAjB,EAA8BS,IAA9B,EAAoC;AAC5D;AACA,YAAInB,KAAK,CAACD,KAAN,CAAYY,KAAZ,KAAsBK,SAA1B,EAAqC;AACnChB,UAAAA,KAAK,CAACiB,QAAN,CAAe;AACbN,YAAAA,KAAK,EAAEA;AADM,WAAf;AAGD;;AAED,YAAIX,KAAK,CAACD,KAAN,CAAYS,aAAhB,EAA+B;AAC7BR,UAAAA,KAAK,CAACD,KAAN,CAAYS,aAAZ,CAA0BG,KAA1B,EAAiCD,WAAjC,EAA8CS,IAA9C;AACD;AACF,OAXD;;AAaAnB,MAAAA,KAAK,CAACoB,eAAN,GAAwB,UAAUT,KAAV,EAAiBU,IAAjB,EAAuB;AAC7C,YAAIrB,KAAK,CAACE,KAAV,EAAiB;AACfoB,UAAAA,aAAa,CAACtB,KAAK,CAACE,KAAP,CAAb;AACAF,UAAAA,KAAK,CAACE,KAAN,GAAc,IAAd;AACD,SAHD,MAGO,IAAImB,IAAI,KAAK,KAAb,EAAoB;AACzBrB,UAAAA,KAAK,CAACuB,aAAN;AACD;;AAED,YAAIvB,KAAK,CAACD,KAAN,CAAYyB,WAAhB,EAA6B;AAC3BxB,UAAAA,KAAK,CAACD,KAAN,CAAYyB,WAAZ,CAAwBb,KAAxB,EAA+BU,IAA/B;AACD;AACF,OAXD;;AAaArB,MAAAA,KAAK,CAACyB,sBAAN,GAA+B,UAAUC,CAAV,EAAa;AAC1C,YAAIA,CAAC,CAACC,MAAF,CAASC,MAAb,EAAqB;AACnBN,UAAAA,aAAa,CAACtB,KAAK,CAACE,KAAP,CAAb;AACD,SAFD,MAEO;AACLF,UAAAA,KAAK,CAACuB,aAAN;AACD;AACF,OAND;;AAQAvB,MAAAA,KAAK,CAACG,KAAN,CAAYQ,KAAZ,GAAoBZ,KAAK,CAACY,KAAN,IAAe,CAAnC;AACA,aAAOX,KAAP;AACD;;AAED,KAAC,GAAGb,aAAa,CAACL,OAAlB,EAA2Be,QAA3B,EAAqC,CAAC;AACpCgC,MAAAA,GAAG,EAAE,mBAD+B;AAEpChD,MAAAA,KAAK,EAAE,SAASiD,iBAAT,GAA6B;AAClC,aAAKP,aAAL;AACD,OAJmC,CAIlC;;AAJkC,KAAD,EAMlC;AACDM,MAAAA,GAAG,EAAE,kCADJ;AAEDhD,MAAAA,KAAK,EAAE,SAASkD,gCAAT,CAA0CC,SAA1C,EAAqD;AAC1D,YAAIrB,KAAK,GAAGqB,SAAS,CAACrB,KAAtB;;AAEA,YAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAK,KAAKZ,KAAL,CAAWY,KAAtD,EAA6D;AAC3D,eAAKM,QAAL,CAAc;AACZN,YAAAA,KAAK,EAAEA;AADK,WAAd;AAGD;AACF;AAVA,KANkC,EAiBlC;AACDkB,MAAAA,GAAG,EAAE,oBADJ;AAEDhD,MAAAA,KAAK,EAAE,SAASoD,kBAAT,CAA4BC,SAA5B,EAAuC;AAC5C,YAAIC,mBAAmB,GAAG,CAAC,CAAC,GAAG1C,aAAa,CAAC2C,mBAAlB,EAAuC;AAChEzB,UAAAA,KAAK,EAAEuB,SAAS,CAACvB,KAD+C;AAEhE0B,UAAAA,QAAQ,EAAEH,SAAS,CAACG,QAF4C;AAGhEC,UAAAA,QAAQ,EAAEJ,SAAS,CAACI;AAH4C,SAAvC,EAIxB;AACD3B,UAAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWY,KADjB;AAED0B,UAAAA,QAAQ,EAAE,KAAKtC,KAAL,CAAWsC,QAFpB;AAGDC,UAAAA,QAAQ,EAAE,KAAKvC,KAAL,CAAWuC;AAHpB,SAJwB,CAA3B;;AAUA,YAAIH,mBAAJ,EAAyB;AACvB,eAAKZ,aAAL;AACD;AACF;AAhBA,KAjBkC,EAkClC;AACDM,MAAAA,GAAG,EAAE,sBADJ;AAEDhD,MAAAA,KAAK,EAAE,SAAS0D,oBAAT,GAAgC;AACrCjB,QAAAA,aAAa,CAAC,KAAKpB,KAAN,CAAb;AACD;AAJA,KAlCkC,EAuClC;AACD2B,MAAAA,GAAG,EAAE,eADJ;AAEDhD,MAAAA,KAAK,EAAE,SAAS0C,aAAT,GAAyB;AAC9B,YAAIiB,YAAY,GAAG,KAAKzC,KAAxB;AAAA,YACIuC,QAAQ,GAAGE,YAAY,CAACF,QAD5B;AAAA,YAEID,QAAQ,GAAGG,YAAY,CAACH,QAF5B;AAGAf,QAAAA,aAAa,CAAC,KAAKpB,KAAN,CAAb;;AAEA,YAAIoC,QAAJ,EAAc;AACZ,eAAKpC,KAAL,GAAauC,WAAW,CAAC,KAAKrC,cAAN,EAAsBiC,QAAtB,CAAxB;AACD;AACF;AAXA,KAvCkC,EAmDlC;AACDR,MAAAA,GAAG,EAAE,QADJ;AAEDhD,MAAAA,KAAK,EAAE,SAAS6D,MAAT,GAAkB;AACvB,YAAIC,YAAY,GAAG,KAAK5C,KAAxB;AAAA,YACIuC,QAAQ,GAAGK,YAAY,CAACL,QAD5B;AAAA,YAEI/B,SAAS,GAAGoC,YAAY,CAACpC,SAF7B;AAAA,YAGIqC,SAAS,GAAGD,YAAY,CAAChC,KAH7B;AAAA,YAII0B,QAAQ,GAAGM,YAAY,CAACN,QAJ5B;AAAA,YAKI7B,aAAa,GAAGmC,YAAY,CAACnC,aALjC;AAAA,YAMIqC,KAAK,GAAG,CAAC,GAAG5D,yBAAyB,CAACH,OAA9B,EAAuC6D,YAAvC,EAAqD,CAAC,UAAD,EAAa,WAAb,EAA0B,OAA1B,EAAmC,UAAnC,EAA+C,eAA/C,CAArD,CANZ;AAOA,YAAIhC,KAAK,GAAG,KAAKR,KAAL,CAAWQ,KAAvB;;AAEA,YAAI,CAAC2B,QAAL,EAAe;AACb,iBAAO/C,MAAM,CAACT,OAAP,CAAegE,aAAf,CAA6BlD,WAA7B,EAA0C,CAAC,GAAGZ,SAAS,CAACF,OAAd,EAAuB;AACtE6B,YAAAA,KAAK,EAAEA,KAD+D;AAEtEH,YAAAA,aAAa,EAAEA;AAFuD,WAAvB,EAG9CqC,KAH8C,CAA1C,CAAP;AAID;;AAED,eAAOtD,MAAM,CAACT,OAAP,CAAegE,aAAf,CAA6BpD,mBAAmB,CAACZ,OAAjD,EAA0D;AAC/D6C,UAAAA,MAAM,EAAE,UADuD;AAE/DoB,UAAAA,kBAAkB,EAAE,KAAKtB;AAFsC,SAA1D,EAGJlC,MAAM,CAACT,OAAP,CAAegE,aAAf,CAA6BlD,WAA7B,EAA0C,CAAC,GAAGZ,SAAS,CAACF,OAAd,EAAuB;AAClE6B,UAAAA,KAAK,EAAEA,KAD2D;AAElEH,UAAAA,aAAa,EAAE,KAAKU,iBAF8C;AAGlEM,UAAAA,WAAW,EAAE,KAAKJ;AAHgD,SAAvB,EAI1CyB,KAJ0C,CAA1C,CAHI,CAAP;AAQD;AA3BA,KAnDkC,CAArC;AAgFA,WAAOhD,QAAP;AACD,GAjKD,CAiKEN,MAAM,CAACT,OAAP,CAAekE,SAjKjB,CAFA;;AAqKAnD,EAAAA,QAAQ,CAACoD,SAAT,GAAqBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AAC3D;;;AAGAd,IAAAA,QAAQ,EAAE9C,UAAU,CAACV,OAAX,CAAmBuE,IAJ8B;;AAM3D;;;AAGA/C,IAAAA,QAAQ,EAAEd,UAAU,CAACV,OAAX,CAAmBwE,IAT8B;;AAW3D;;;AAGA/C,IAAAA,SAAS,EAAEf,UAAU,CAACV,OAAX,CAAmByE,KAAnB,CAAyB,CAAC,aAAD,EAAgB,aAAhB,CAAzB,CAdgD;;AAgB3D;;;AAGA5C,IAAAA,KAAK,EAAEnB,UAAU,CAACV,OAAX,CAAmB0E,MAnBiC;;AAqB3D;;;AAGAnB,IAAAA,QAAQ,EAAE7C,UAAU,CAACV,OAAX,CAAmB0E,MAxB8B;;AA0B3D;;;AAGAhD,IAAAA,aAAa,EAAEhB,UAAU,CAACV,OAAX,CAAmB2E,IA7ByB;;AA+B3D;;;AAGAjC,IAAAA,WAAW,EAAEhC,UAAU,CAACV,OAAX,CAAmB2E,IAlC2B;;AAoC3D;;;AAGAhD,IAAAA,UAAU,EAAEjB,UAAU,CAACV,OAAX,CAAmB0E;AAvC4B,GAAxC,GAwCjB,EAxCJ;AAyCA3D,EAAAA,QAAQ,CAAC6D,YAAT,GAAwB;AACtBpB,IAAAA,QAAQ,EAAE,IADY;AAEtB/B,IAAAA,SAAS,EAAE,aAFW;AAGtB8B,IAAAA,QAAQ,EAAE;AAHY,GAAxB;AAKA,SAAOxC,QAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = autoPlay;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _shallowEqual = require(\"shallow-equal\");\n\nvar _reactEventListener = _interopRequireDefault(require(\"react-event-listener\"));\n\nvar _reactSwipeableViewsCore = require(\"react-swipeable-views-core\");\n\nfunction autoPlay(MyComponent) {\n  var AutoPlay =\n  /*#__PURE__*/\n  function (_React$Component) {\n    (0, _inherits2.default)(AutoPlay, _React$Component);\n\n    function AutoPlay(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AutoPlay);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(AutoPlay).call(this, props));\n      _this.timer = null;\n      _this.state = {};\n\n      _this.handleInterval = function () {\n        var _this$props = _this.props,\n            children = _this$props.children,\n            direction = _this$props.direction,\n            onChangeIndex = _this$props.onChangeIndex,\n            slideCount = _this$props.slideCount;\n        var indexLatest = _this.state.index;\n        var indexNew = indexLatest;\n\n        if (direction === 'incremental') {\n          indexNew += 1;\n        } else {\n          indexNew -= 1;\n        }\n\n        if (slideCount || children) {\n          indexNew = (0, _reactSwipeableViewsCore.mod)(indexNew, slideCount || _react.default.Children.count(children));\n        } // Is uncontrolled\n\n\n        if (_this.props.index === undefined) {\n          _this.setState({\n            index: indexNew\n          });\n        }\n\n        if (onChangeIndex) {\n          onChangeIndex(indexNew, indexLatest);\n        }\n      };\n\n      _this.handleChangeIndex = function (index, indexLatest, meta) {\n        // Is uncontrolled\n        if (_this.props.index === undefined) {\n          _this.setState({\n            index: index\n          });\n        }\n\n        if (_this.props.onChangeIndex) {\n          _this.props.onChangeIndex(index, indexLatest, meta);\n        }\n      };\n\n      _this.handleSwitching = function (index, type) {\n        if (_this.timer) {\n          clearInterval(_this.timer);\n          _this.timer = null;\n        } else if (type === 'end') {\n          _this.startInterval();\n        }\n\n        if (_this.props.onSwitching) {\n          _this.props.onSwitching(index, type);\n        }\n      };\n\n      _this.handleVisibilityChange = function (e) {\n        if (e.target.hidden) {\n          clearInterval(_this.timer);\n        } else {\n          _this.startInterval();\n        }\n      };\n\n      _this.state.index = props.index || 0;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AutoPlay, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.startInterval();\n      } // eslint-disable-next-line camelcase,react/sort-comp\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var index = nextProps.index;\n\n        if (typeof index === 'number' && index !== this.props.index) {\n          this.setState({\n            index: index\n          });\n        }\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var shouldResetInterval = !(0, _shallowEqual.shallowEqualObjects)({\n          index: prevProps.index,\n          interval: prevProps.interval,\n          autoplay: prevProps.autoplay\n        }, {\n          index: this.props.index,\n          interval: this.props.interval,\n          autoplay: this.props.autoplay\n        });\n\n        if (shouldResetInterval) {\n          this.startInterval();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        clearInterval(this.timer);\n      }\n    }, {\n      key: \"startInterval\",\n      value: function startInterval() {\n        var _this$props2 = this.props,\n            autoplay = _this$props2.autoplay,\n            interval = _this$props2.interval;\n        clearInterval(this.timer);\n\n        if (autoplay) {\n          this.timer = setInterval(this.handleInterval, interval);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props3 = this.props,\n            autoplay = _this$props3.autoplay,\n            direction = _this$props3.direction,\n            indexProp = _this$props3.index,\n            interval = _this$props3.interval,\n            onChangeIndex = _this$props3.onChangeIndex,\n            other = (0, _objectWithoutProperties2.default)(_this$props3, [\"autoplay\", \"direction\", \"index\", \"interval\", \"onChangeIndex\"]);\n        var index = this.state.index;\n\n        if (!autoplay) {\n          return _react.default.createElement(MyComponent, (0, _extends2.default)({\n            index: index,\n            onChangeIndex: onChangeIndex\n          }, other));\n        }\n\n        return _react.default.createElement(_reactEventListener.default, {\n          target: \"document\",\n          onVisibilityChange: this.handleVisibilityChange\n        }, _react.default.createElement(MyComponent, (0, _extends2.default)({\n          index: index,\n          onChangeIndex: this.handleChangeIndex,\n          onSwitching: this.handleSwitching\n        }, other)));\n      }\n    }]);\n    return AutoPlay;\n  }(_react.default.Component);\n\n  AutoPlay.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    /**\n     * If `false`, the auto play behavior is disabled.\n     */\n    autoplay: _propTypes.default.bool,\n\n    /**\n     * @ignore\n     */\n    children: _propTypes.default.node,\n\n    /**\n     * This is the auto play direction.\n     */\n    direction: _propTypes.default.oneOf(['incremental', 'decremental']),\n\n    /**\n     * @ignore\n     */\n    index: _propTypes.default.number,\n\n    /**\n     * Delay between auto play transitions (in ms).\n     */\n    interval: _propTypes.default.number,\n\n    /**\n     * @ignore\n     */\n    onChangeIndex: _propTypes.default.func,\n\n    /**\n     * @ignore\n     */\n    onSwitching: _propTypes.default.func,\n\n    /**\n     * @ignore\n     */\n    slideCount: _propTypes.default.number\n  } : {};\n  AutoPlay.defaultProps = {\n    autoplay: true,\n    direction: 'incremental',\n    interval: 3000\n  };\n  return AutoPlay;\n}"]},"metadata":{},"sourceType":"script"}